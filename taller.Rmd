---
title: 'R para Cientistas Sociales: Taller Introductorio'
author: "Ariana Bardauil"
date: "`r Sys.Date()`"
lang: "es"
output:
  rmdformats::robobook:
    lightbox: TRUE
    highlight: tango
    toc: 3
    number-sections: TRUE
    code-folding: show
    code_download: TRUE
editor_options: 
  markdown: 
    wrap: 72
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

#install.packages("devtools")
#devtools::install_github("juba/rdmformats")
```

üíª*¬°Bienvenidos al Taller introductorio: R para Cientistas Sociales!*
üíª.

A a lo largo de esta jornada abordaremos el uso de R para las ciencias
sociales. **No se requiere experiencia previa en programaci√≥n ni
an√°lisis de datos,** ya que este taller est√° dise√±ado para todxs, desde
principiantes hasta aquellos con cierta experiencia.

ü§î **¬øPor qu√© R?** R es un lenguaje de programaci√≥n ampliamente
utilizado en la ciencia de datos, estad√≠sticas y an√°lisis de datos. En
las ciencias sociales, R puede ser una herramienta invaluable para
explorar datos, identificar patrones, y comunicar tus hallazgos de
manera efectiva estudies la carrera que estudies.

**Podes acceder al repositorio
[ac√°](https://github.com/ariibard/R-para-Ciencias-Sociales)**. All√≠
vamos a estar subiendo los archivos y documentos del curso.

‚û°Ô∏è Este taller es organizado por el proyecto de investigaci√≥n *"La trama
territorial de programas sociales en el conurbano bonaerense: entre
naci√≥n, municipios y organizaciones sociales (2015-2023)" r*adicado en
el Departamento de Derecho y Ciencia Pol√≠tica de la **Universidad
Nacional de La Matanza** (UNLaM).


![](imagenes/logo-unlam.png){width="212" align="right"}

# Instalaci√≥n de R y RStudio

#### Instalaci√≥n de R

1Ô∏è‚É£ Para descargar R y Rstudio, debes acceder a la p√°gina de intalaci√≥n
de [Posit](https://posit.co/download/rstudio-desktop/).

![](imagenes/1-instalacion.png)

2Ô∏è‚É£ Lo primero que debemos hacer es **instalar R**. Para ello,
seleccionaremos el **paso 1** que te llevara a la [p√°gina de
CRAN](https://cran.rstudio.com/) (Comprehensive R Archive Network) que
es el *repositorio central de software de R*. All√≠, deber√°s seleccionar
el *sistema operativo que utilices*.

![](imagenes/1.3-instalacion.png)

3Ô∏è‚É£ Luego deber√°s seleccionar el "install for the first time" (Instalar
por primera vez) en la parte superior de la p√°gina:

![](imagenes/1.1-instalacion.png)

#### Instalaci√≥n de R Studio

4Ô∏è‚É£ Una vez que lo descargas, deber√°s ejecutar el .exe y seguir los pasos
de la instalaci√≥n. La √∫ltima versi√≥n de R es la 9.1.

5Ô∏è‚É£En cuanto hayas descargado R, deber√°s descargar RStudio que es el IDE
que estaremos usando a lo largo del curso.

Para ello vuelve a la [p√°gina de
posit](https://posit.co/download/rstudio-desktop/) y selecciona el Paso
2.

![](imagenes/1-instalacion.png)

Tambi√©n pod√©s seleccionar la opci√≥n de descarga que mejor se adapte a tu
sistema operativo

![](imagenes/1.2-instalacion.png)

¬°Felicidades! Ahora tienes R y RStudio instalados en tu compu. En caso
de tener alg√∫n inconveniente no dudes en escribirnos.

üìÖ **Nos vemos el 23 de noviembre a las 17 30 hs en la biblioteca de la
UNLaM para continuar con este taller**

‚ú® En esta p√°gina estaremos subiendo lo que veremos ese d√≠a ‚ú®

# ¬øCon qu√© trabajamos en R?

-   **Scripts**: Un script de R es un archivo de texto que contiene
    c√≥digo R.

-   **Rmarkdown**: Un documento **Rmd** es un archivo de texto que
    combina texto con c√≥digo R. Este formato de documento se utiliza
    para crear informes, presentaciones y otros tipos de documentos que
    contienen tanto texto como c√≥digo. Pod√©s aprender m√°s de rmarkdown
    [ac√°](https://rmarkdown.rstudio.com/) y de Quarto (un tipo de
    documento parecido y m√°s chevere [ac√°](https://quarto.org/))

‚û°Ô∏è Si apretamos las teclas ALT+CTRL+I podemos introducir un **chunk**.
*Es como un mini script,* un espacio para procesar c√≥digo en R. para
ejecutar el c√≥digo hacemos clic en el [**bot√≥n
verde**]{style="color:green"}

‚û°Ô∏è Tambi√©n podemos correr lineas de c√≥digo usando CTRL + ENTER

```{r}
# Esto es un comentario. Para comentar usamos el # o CTRL + ALT + C


```

Uno puede editar la estructura del documento

## Esto es un titulo

### Esto es un titulo mas chiquito

#### Esto es un t√≠tulo mini

Esto es texto normal

*Esto es texto en cursiva*

**Esto es texto en negrita**

# En R todo es un objetos

R es un lenguaje orientado a objetos, lo que significa que todo en R es
un objeto. Incluso los n√∫meros, las funciones y los datos son objetos
("cosas") en R.

‚û°Ô∏è Los objetos se crean con **\<-** o el signo

```{r}
# Creamos un objeto en R

esto_es_un_objeto <- 23
esto_tambien <- "Usamos comillas para el texto para que ningun elemento este suelto"
```

Tambi√©n podemos crear objetos con muchos objetos llamados **vectores**

```{r}
esto_es_un_vector <- c(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17)

```

# R es una calculadora

Podemos hacer operaciones matem√°ticas con R. Y, podemos operar con los
objetos

```{r}

# suma
1 + 3

# resta
4-2

# division
25/5

# multiplicacion
2*2

# potencia
2^2

```

A su vez, podes operar con tus objetos, vectores, dataframes...

```{r}
# suma con mi objeto

esto_es_un_objeto + 5

# Puedo crear un objeto con lo nuevo 
objeto_nuevo <- esto_es_un_objeto + 5



```

Y usar funciones de R o de librer√≠as para calculos. Las **funciones**
como `sum()` o `mean()` son bloques de c√≥digo reutilizables que realizan
tareas espec√≠ficas. R tiene muchas funciones incorporadas y tambi√©n
podes crear las tuyas propias. *Adem√°s hay librer√≠as y paquetes que te
permiten ampliar este universo de funciones*

```{r}

# Tambien operar con mis vectores

mean(esto_es_un_vector)
sum(esto_es_un_vector)
```

Podemos graficar nuestro vector con la funci√≥n `plot()`

```{r}
plot(esto_es_un_vector)
```

# Levantar data

üìÇ En R podemos utilizar archivos csv, txt, excel, sav, entre otros.
Incluso podes trabajar con
[googlesheets!](https://googlesheets4.tidyverse.org/reference/index.html)

‚ùóPara cada tipo de archivo hay una funci√≥n diferente. CSV `read.csv()`
, archivos SAV `read_spss()` , excel `readxl::read_excel()`

Vamos a trabajar con [*datos
abiertos*](https://datosabiertos.desarrollosocial.gob.ar/dataset/potenciar-trabajo)
del **Programa Nacional de Inclusi√≥n Socioproductiva y Desarrollo Local
"Potenciar Trabajo"** que fue creado en el a√±o 2020 bajo la Resoluci√≥n
N¬∞ 121. Este programa busca es contribuir al mejoramiento de la
empleabilidad y la generaci√≥n de nuevas propuestas productivas. Para
ello, se prev√© la participaci√≥n de las y los titulares del programa en
al menos una de las tres alternativas:

-   proyectos socio-productivos;

-   terminalidad educativa;

-   proyectos socio-laborales o socio-comunitarios

```{r}
#Defino url
#url <- ("https://datosabiertos.desarrollosocial.gob.ar/dataset/d45687c0-f2ba-41d9-9989-0ad9799308ae/resource/c5c925e0-7ce0-41e5-b3ff-8ebb51d4be72/download/potenciar-trabajo-titulares-2022-10-01.csv")
# 
#potenciar_trabajo <- read.csv(url)

potenciar_trabajo <- read.csv("data/potenciar-trabajo-titulares-2022-10-01.csv")
```

Para descargarlo a nuestro espacio de trabajo usamos la funcion
`write.csv()` para CSV o `write.xlsx` de la librer√≠a `openxlsx`

```{r}

# Guardo el csv
write.csv(potenciar_trabajo, "data/df_potenciar.csv")
```

para leer el archivo desde nuestra compu:

```{r}

# Leo el df 
df <- read.csv("df_potenciar.csv")
```

Pueden encontrar m√°s informaci√≥n sobre importacion y exportacion de
archivos [aqu√≠](https://r-coder.com/exportar-datos-r/) o
[aqu√≠](https://myrbooksp.netlify.app/import.html)

# Analizamos el potenciar trabajo

Primero vamos a ver qu√© hay en el df del potenciar trabajo

```{r}
# Primeras 10 observaciones
head(df) 

# Ultimas 10 observaciones
tail(df)
```

Con el simbolo \$ puedo elegir las variables de mi tabla y a cada una de
ellas puedo aplicarle una funci√≥n

```{r}
max(df$titulares) #m√°ximo de titulares

min(df$titulares) #m√≠nimo de minimo de titulares

```

Para saber m√°s acerca de una funci√≥n podes pedirle ayuda a R con:

```{r}
#?max
#help(max)
```

Ver un resumen de los datos

```{r}
str(df)
summary(df)
```

# Graficamos

Para graficar usamos `ggplot2`, es un paquete que se encuentra dentro de
Tidyverse.

`Tidyverse` es un conjunto de paquetes en R dise√±ados para la ciencia de
datos. Estos paquetes comprenden funciones que facilitan el proceso de
importaci√≥n, limpieza, transformaci√≥n, visualizaci√≥n, modelado y
comunicaci√≥n de datos. Pueden explorarlos mediante la
[documentaci√≥n](https://www.tidyverse.org/packages/)

```{r}
# install.packages("tidyverse")

library(tidyverse) # Activamos el paquete
```

Para instalar un paquete usamos `install.packages("nombre_del_paquete")`
y siempre SIEMPRE que necesitamos usarlo hay que llamarlo en nuestra
sesi√≥n o documento con `library(nombre_del_paquete)`

Existe una interfaz interactiva que permite dar los primeros pasos en
este mundo de la visualizaci√≥n. El paquete `esquisse` te permite hacer
un boceto del gr√°fico y luego copiar el codigo en tu trabajo a trav√©s de
la funci√≥n `esquisser`

```{r}
#instalaremos el paquete esquisse

#install.packages("esquisse") #instalamos el paquete, por unica vez

library(esquisse)
# Otra forma de llamar a las funciones de los paquetes esquisse::esquisser()
#esquisser(df) #corremos la funcion de visualizacion


# Gr√°fico resultante

ggplot(df) +
  aes(x = periodo, weight = titulares) +
  geom_bar(fill = "#36B08E") +
  labs(
    x = "Cantidad",
    y = "Per√≠odo",
    title = "Titulares del potenciar trabajo por a√±o",
    subtitle = "Cantidad de titulares (2021-2023)",
    caption = "Fuente: Datos abiertos del MDSN"
  ) +
  theme_classic() +
  theme(
    plot.title = element_text(size = 16L,
    face = "bold",
    hjust = 0.5),
    plot.subtitle = element_text(size = 15L,
    hjust = 0.5)
  )
```

# Presentaci√≥n

Acced√© a la presentaci√≥n
[ac√°](https://arianabard.netlify.app/posts/rparacientistassociales/)



## Fuente

-   [R en 90
    minutos](https://www.nucleodeinnovacion.com/post/nis-en-la-facultad-de-ciencias-sociales-con-r-en-90-minutos) -
    Nucleo de Innovaci√≥n Social (NIS)

-   [Introducci√≥n al An√°lisis de Datos en
    R](https://github.com/elateneoac/cursoR_2023) - el Ateneo A.C
    
    
![](imagenes/logo-unlam.png){width="212" align="right"}